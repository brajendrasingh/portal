<div class="dashboard-wrapper">
    <h2>Assessment Results Dashboard</h2>
    <table class="result-table">
        <thead>
            <tr>
                <th>Sl. No</th>
                <th>User</th>
                <th>Assessment</th>
                <th>Attempt</th>
                <th>Total Questions</th>
                <th>Score</th>
                <th>Status</th>
                <th>Attempted On</th>
                <th>Action</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let r of results; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ r.userId }}</td>
                <td>{{ r.assessmentId }}</td>
                <td>{{ r.attemptNo }}</td>
                <td>{{ r.totalQuestions }}</td>
                <td>{{  (r.score / r.totalQuestions * 100) | number:'1.0-0' }}%</td>
                <td>
                    <span class="badge" [ngClass]="r.status === 'PASS' ? 'pass' : 'fail'"> {{ r.status }} </span>
                </td>
                <td>{{ r.submittedAt | date:'dd MMM yyyy, hh:mm a' }}</td>
                <td>
                    <button class="btn-view" [routerLink]="['/result', r.userId, r.assessmentName, r.attemptNo]"> View </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>